#!/usr/bin/env bash

# Replace PATH
export PATH="$(
tr '\n' ':' << EOF
$HOME/bin
$HOME/go/bin
$HOME/.cargo/bin
$HOME/.local/bin
/usr/local/opt/coreutils/libexec/gnubin
/usr/local/opt/grep/libexec/gnubin
/usr/local/opt/gnu-tar/libexec/gnubin
/usr/local/opt/gnu-sed/libexec/gnubin
$HOME/Library/Python/3.7/bin
$HOME/Library/Python/2.7/bin
/opt/X11/bin
/opt/local/bin
/opt/local/sbin
/opt/bin
/opt/sbin
/usr/lib/mit/bin
/usr/lib/mit/sbin
/usr/local/Cellar
/usr/local/bin
/usr/local/sbin
/usr/bin
/usr/sbin
/bin
/sbin
EOF
)"

# History settings
export HISTCONTROL=ignoredups:ignorespace
export HISTSIZE=4000
export HISTFILESIZE=8000
export HISTTIMEFORMAT="%d/%m/%y %T "

# # Enable Bash completion
# source "bash-completion/bash_completion"

# Set a cooler prompt for git and stuff
# source "bash-git-prompt/gitprompt.sh"
# export GIT_PROMPT_ONLY_IN_REPO=0
# export GIT_PROMPT_THEME="Single_line_Minimalist"

# Source my settings
for a in aliases/* ; do source "${a}" ; done
source colors
for f in functions/* ; do source "${f}" ; done
source options
# source get_binaries

# load vault
[ -f ~/.vaultrc ] && source ~/.vaultrc |& logger -t vaultrc

# Source extra Mac stuff if on a Mac
[[ "$(uname)" == 'Darwin' ]] && source "$PWD/osx"

export GOPATH=$HOME/go

unset PROMPT_COMMAND
PS1='$(promptline)'
